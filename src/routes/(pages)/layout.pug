include ./common-mixins

mixin link(href, title)
  li.flex.relative.items-center.text-cta.text-t1.transition-colors(
    class="hover:text-accent1-default before:content-['] before:absolute before:left-0 before:-bottom-4 before:w-full before:bg-transparent xs:before:!bg-transparent before:h-0.5"
  )&attributes(attributes): a.text-inherit(
    href=href
    on:click!="{ () => toggleBurger(false) }"
  )= title

mixin social-link(href, content)
  a.flex.flex-col.items-center.justify-center.w-8.h-8.p-1.text-t1.transition-colors(
    class="hover:text-accent1-default"
    href=href
    target="_blank"
    rel="noopener noreferrer"
  )&attributes(attributes)= content

mixin main-nav
  ul.flex.items-start.gap-4(class="xl-up:gap-8" role="navigation")&attributes(attributes)
    +link("{routes.about}", "About")(
      class!="{ isActive(path, routes.about, true) ? 'before:!bg-accent1-default' : '' }"
    )
    +link("{routes.portfolio}", "Portfolio")(
      class!="{ isActive(path, routes.portfolio, true) ? 'before:!bg-accent1-default' : '' }"
    )
    +link("{routes.forStartups}", "For Startups")(
      class!="{ isActive(path, routes.forStartups, true) ? 'before:!bg-accent1-default' : '' }"
    )
    +link("{routes.jobs}", "Jobs")(
      class!="{ isActive(path, routes.jobs) ? 'before:!bg-accent1-default' : '' }"
    )
    //- +link("/c?filter=partners", "Partners")(class!="{isFilterActive($page.url,'/c', 'partners') ? '!text-accent1-default before:!bg-accent1-default' : ''}")

mixin mobile-nav
  +main-nav.relative.flex.flex-wrap(class="smDown:gap-4")
  //-+primary-button("Partner With Us")(type="button" on:click!="{() => handleClick(toggleBurger)}")

.app-container
  header.z-10.w-full.block.relative.top-0.border-b.border-solid.border-l4(
    class!="{ scrollY > 1 ? 'sticky bg-l1' : '' }"
  )
    .outer-container.relative.from-l1.to-transparent(
      class="xs:before:content['] xs:before:absolute xs:before:left-0 xs:before:w-16 xs:before:h-16 xs:before:z-10 xs:before:bg-gradient-to-r xs:after:bg-gradient-to-l xs:after:content['] xs:after:absolute xs:after:right-0 xs:after:w-16 xs:after:h-16 xs:after:z-10 xs:after:top-0"
    )
      .header-wrapper.flex.px-4.py-3.justify-start.items-center.w-full.overflow-x-auto.whitespace-nowrap(
        class="lg-up:justify-center"
      )
        .flex.items-center.justify-between.mx-auto.gap-4(class="sm-up:w-full xl-up:max-w-screen-xl-up")
          .logo-wrapper.sticky.left-0.z-20
            a.relative.flex(
              class="w-6.5 h-6.5 {isBurgerDropdownShown ? '!w-25' : ''}"
              href="{ routes.index }"
            )
              +if('isBurgerDropdownShown')
                img(alt="Home" src="/logo-white-w-text.svg")
                +else
                  img(alt="Home" src="/logo-w-o-text.svg")

          .nav-wrapper.main-nav.flex.items-center.gap-8(class="lg-up:ml-40")
            +main-nav.gap-4(class="xl-up:gap-8")
            .social-icons-nav.gap-5.flex.items-start
              +social-link("https://www.linkedin.com/company/holdexlimited/", "{@html socialIcons.linkedin}")(
                class="!h-5 !w-5 !p-0"
              )
              +social-link("https://github.com/holdex", "{@html socialIcons.github}")(
                class="!h-5 !w-5 !p-0"
              )
              +social-link("https://twitter.com/HoldexIo", "{@html socialIcons.twitter}")(
                class="!h-5 !w-5 !p-0"
              )
              +social-link("https://t.me/holdex", "{@html socialIcons.telegram}")(
                class="!h-5 !w-5 !p-0"
              )

          .flex.items-center.gap-2.sticky.right-0.z-20(class="md-up:gap-4")
            +button-icon-default(type="button" on:click!="{ onThemeToggle }")
              SVGIcon.w-5.stroke-current(name="{ themeIconName }")
            +primary-button("Partner With Us").sticky(
              type="button"
              on:click!="{ () => handleClick(undefined) }"
            )

  main: slot
  footer.mt-16.flex.flex-col.items-center.w-full(class="xs:mt-8")
    .contact-form.w-full.relative.flex.flex-col.items-center.border-t.border-b.border-solid.border-l4.py-8.px-4(
      class="xs:py-4"
      id="contact-form"
    )
      form.w-full.relative(
        class="max-w-[604px]"
        method="POST"
        action="/"
        on:submit|preventDefault="{ onContactFormSumbit }"
      )
        h4.text-h4-l.font-satoshi.mb-4(class="xs:text-h4-s") Contact Us
        p.text-paragraph-l.text-t2.mb-6(class="xs:text-paragraph-s") Weâ€™d love to hear from you on discussing potential projects, intriguing ideas, and new opportunities.
        .input-group.mb-4
          textarea.relative.w-full.border.border-solid.border-l4.block.min-h-32.h-32.bg-l1.shadow-input.rounded-xl.text-footnote.text-t1.transition-all(
            rows="{ 5 }"
            required
            bind:value="{ message }"
            class="p-2.5 placeholder:text-footnote placeholder:opacity-100 placeholder:text-t3 hover:border-accent1-default autofill:fill-t1 autofill:hover:text-t3 dark:bg-l2"
            name="message"
            placeholder="How can we help you?"
          )
        .input-group.mb-6.gap-4.flex(class="xs:mb-4 xs:flex-col")
          input.relative.border.border-solid.border-l4.bg-l1.shadow-input.rounded-xl.text-footnote.text-t1.transition-all(
            type="text"
            name="name"
            required
            bind:value="{ name }"
            class="w-1/2 xs:w-full p-2.25 placeholder:text-footnote placeholder:opacity-100 placeholder:text-t3 hover:border-accent1-default autofill:fill-t1 autofill:hover:text-t3 dark:bg-l2"
            placeholder="Your name and company"
          )
          input.relative.border.border-solid.border-l4.bg-l1.shadow-input.rounded-xl.text-footnote.text-t1.transition-all(
            type="email"
            required
            pattern!="{ regExp.email.toString().slice(1, -1) }"
            bind:value="{ email }"
            name="email"
            on:blur="{ displayError(email) }"
            class="w-1/2 xs:w-full p-2.25 placeholder:text-footnote placeholder:opacity-100 placeholder:text-t3 hover:border-accent1-default autofill:fill-t1 autofill:hover:text-t3 dark:bg-l2"
            placeholder="Your email address"
          )
        p.text-rating-c.text-footnote.font-inter.flex.items-center.mb-6.gap-2(
          class="xs:mb-4 py-2.5 {isError ? 'flex' : 'hidden'}"
        )
          Icon(icon="{ ExclamationTriangle }" width="{ 17.26 }" height="{ 15.62 }" colorInherit)
          span() Invalid email address
        Button(
          label="Submit"
          class="dark:bg-l2 mobile:!w-full"
          disabled="{ message == '' || name == '' || email == '' || !validateEmail(email) ? true : false }"
          isSubmitBtn="true"
        )
        .feedback-toast.absolute.z-1.-bottom-4.h-12.border.border-solid.rounded-xl.bg-l2.border-l4.justify-center.items-center.gap-2.shadow-tag.text-accent1-default(
          class="xs:-bottom-2 left-1/2 -translate-x-1/2 px-2.75 py-1.75 {success ? 'flex' : 'hidden'}"
        )
          Icon(icon="{ CheckCircle }" width="{ 24 }" height="{ 24 }" colorInherit)
          span.succ.text-t1.text-cta Message sent!
    .footer-nav.flex.items-center.justify-between.py-4.px-4.w-full(
      class="xs:flex-col xs:items-start xs:py-6 xs:gap-6 max-w-[1240px]"
    )
      .logo-wrapper.z-1.relative
        a.relative.flex.w-25(class="h-6.5 tbDown:w-30 tbDown:h-8" href="{ routes.index }"): SVGIcon.w-32(
          name="logo"
        )
      ul.absolute.main-nav.flex.items-start.gap-8(
        class="left-1/2 -translate-x-1/2 tbDown:relative tbDown:gap-4 tbDown:left-0 tbDown:transform-none"
        role="navigation"
      )
        +link("https://policies.holdex.io/#/terms", "Terms of Use")(
          target="_blank"
          rel="noreferrer"
        )
        +link("https://policies.holdex.io/#/privacy", "Privacy Policy")(
          target="_blank"
          rel="noreferrer"
        )
        +link("https://policies.holdex.io/#/disclaimer", "Disclaimer")(
          target="_blank"
          rel="noreferrer"
        )
      .social-icons.flex.items-center.justify-end.gap-4.z-1.relative
        +social-link("https://www.linkedin.com/company/holdexlimited/", "{@html socialIcons.linkedin}")
        +social-link("https://github.com/holdex", "{@html socialIcons.github}")
        +social-link("https://twitter.com/HoldexIo", "{@html socialIcons.twitter}")
        +social-link("https://t.me/holdex", "{@html socialIcons.telegram}")
